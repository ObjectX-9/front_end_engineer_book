<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://s21.ax1x.com/2024/06/14/pkdLxmt.png"
    />
    <link rel="stylesheet" href="/front_end_engineer_book/umi.4c36f7fa.css" />
    <script>
      window.routerBase = "/front_end_engineer_book/";
    </script>
    <script>
      //! umi version: 3.5.17
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.indexOf(e) > -1 ? e : r[0]
        );
      })();
    </script>
    <title>3.代码质量</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/01docs/00actual_combat/03code_quarity" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false" data-use-bg="false" style="padding-bottom:50px;overflow:unset;background-size:cover"><div class="__dumi-default-navbar" data-mode="site" data-is-home="false" style="background-color:#212121"><button class="__dumi-default-navbar-toggle"></button><div class="logo_wrapper"><a class="__dumi-default-navbar-logo" href="/front_end_engineer_book//"><img src="https://s21.ax1x.com/2024/06/14/pkdLxmt.png" alt="ObjectX前端工程化实践"/><span class="label">ObjectX前端工程化实践</span></a><div class="search_wrapper"><div class="__dumi-default-search" data-is-home="false"><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="1.0" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="主页-登录页" transform="translate(-337.000000, -20.000000)"><g id="顶部导航" transform="translate(28.000000, 0.000000)"><g id="编组-3" transform="translate(309.000000, 20.000000)"><rect id="矩形" opacity="0.0848214286" x="0" y="0" width="24" height="24"></rect><path d="M7.63246763,7.63246763 C9.80909114,5.45584412 13.3380951,5.45584412 15.5147186,7.63246763 C17.5003311,9.61808009 17.6745798,12.7291297 16.0374649,14.9122691 L17.7667903,16.6407545 C18.0777366,16.9517007 18.0777366,17.4558441 17.7667903,17.7667903 C17.4558441,18.0777366 16.9517007,18.0777366 16.6407545,17.7667903 L14.9122691,16.0374649 C12.7291297,17.6745798 9.61808009,17.5003311 7.63246763,15.5147186 C5.45584412,13.3380951 5.45584412,9.80909114 7.63246763,7.63246763 Z M14.3886828,8.75850349 C12.8339517,7.20377241 10.3132346,7.20377241 8.75850349,8.75850349 C7.20377241,10.3132346 7.20377241,12.8339517 8.75850349,14.3886828 C10.3132346,15.9434138 12.8339517,15.9434138 14.3886828,14.3886828 C15.9434138,12.8339517 15.9434138,10.3132346 14.3886828,8.75850349 Z" id="形状结合" fill="#666666" fill-rule="nonzero"></path></g></g></g></g></svg><input type="search" class="__dumi-default-search-input" placeholder="search document..." value=""/><ul></ul></div></div></div><span><nav class="navbar_links"><span class="navbar_links-item"><a aria-current="page" class="active" href="/front_end_engineer_book//01docs">🚀 工程化实践指南</a></span><span class="navbar_links-item"><a href="/front_end_engineer_book//02comp">📚 常见组件实现</a></span><span class="navbar_links-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/ObjectX-9/front_end_engineer_book">⭐️GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span></nav></span></div><ul role="slug-list" class="__dumi-default-layout-toc"><li role="slug-list-title">3.代码质量</li><li title="ESlint" data-depth="2"><a href="#eslint" class="active"><span>ESlint</span></a></li><li title="安装" data-depth="3"><a href="#安装" class=""><span>安装</span></a></li><li title="提前安装ts并配置文件" data-depth="3"><a href="#提前安装ts并配置文件" class=""><span>提前安装ts并配置文件</span></a></li><li title="生成的配置.eslintrc.js文件，配置如下" data-depth="3"><a href="#生成的配置eslintrcjs文件，配置如下" class=""><span>生成的配置.eslintrc.js文件，配置如下</span></a></li><li title="配置保存自动修复" data-depth="3"><a href="#配置保存自动修复" class=""><span>配置保存自动修复</span></a></li><li title="配置忽略文件.eslintignore 和 .prettierignore" data-depth="3"><a href="#配置忽略文件eslintignore-和-prettierignore" class=""><span>配置忽略文件.eslintignore 和 .prettierignore</span></a></li><li title="StyleLint" data-depth="2"><a href="#stylelint" class=""><span>StyleLint</span></a></li><li title="安装" data-depth="3"><a href="#安装-1" class=""><span>安装</span></a></li><li title="增加.stylelintrc.js配置文件" data-depth="3"><a href="#增加stylelintrcjs配置文件" class=""><span>增加.stylelintrc.js配置文件</span></a></li><li title="配置保存自动修复" data-depth="3"><a href="#配置保存自动修复-1" class=""><span>配置保存自动修复</span></a></li><li title="配置根据分组排序" data-depth="3"><a href="#配置根据分组排序" class=""><span>配置根据分组排序</span></a></li><li title="提示我们写的矛盾样式" data-depth="3"><a href="#提示我们写的矛盾样式" class=""><span>提示我们写的矛盾样式</span></a></li><li title="ESLint、Stylelint 和 Prettier 的冲突" data-depth="2"><a href="#eslint、stylelint-和-prettier-的冲突" class=""><span>ESLint、Stylelint 和 Prettier 的冲突</span></a></li><li title="eslint冲突" data-depth="3"><a href="#eslint冲突" class=""><span>eslint冲突</span></a></li><li title="stylelint冲突" data-depth="3"><a href="#stylelint冲突" class=""><span>stylelint冲突</span></a></li><li title="增加lint命令" data-depth="3"><a href="#增加lint命令" class=""><span>增加lint命令</span></a></li><li title="lint-staged&amp;husky" data-depth="2"><a href="#lint-stagedhusky" class=""><span>lint-staged&amp;husky</span></a></li><li title="安装" data-depth="3"><a href="#安装-2" class=""><span>安装</span></a></li><li title="commitlint" data-depth="2"><a href="#commitlint" class=""><span>commitlint</span></a></li><li title="配置可视化的提交提示" data-depth="2"><a href="#配置可视化的提交提示" class=""><span>配置可视化的提交提示</span></a></li><li title="配置自定义提交规范" data-depth="2"><a href="#配置自定义提交规范" class=""><span>配置自定义提交规范</span></a></li><li title="配置使用git commit走自定义配置" data-depth="3"><a href="#配置使用git-commit走自定义配置" class=""><span>配置使用git commit走自定义配置</span></a></li><li title="typescript" data-depth="2"><a href="#typescript" class=""><span>typescript</span></a></li><li title="介绍下tsconfig常见的配置" data-depth="3"><a href="#介绍下tsconfig常见的配置" class=""><span>介绍下tsconfig常见的配置</span></a></li><li title="🍋 写在最后" data-depth="2"><a href="#-写在最后" class=""><span>🍋 写在最后</span></a></li><li title="参考文章" data-depth="2"><a href="#参考文章" class=""><span>参考文章</span></a></li></ul><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;https://s21.ax1x.com/2024/06/14/pkdLxmt.png&#x27;)" href="/front_end_engineer_book//"></a><h1>ObjectX前端工程化实践</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/front_end_engineer_book//01docs">🚀 工程化实践指南</a></li><li><a href="/front_end_engineer_book//02comp">📚 常见组件实现</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/ObjectX-9/front_end_engineer_book">⭐️GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><ul class="ant-menu ant-menu-root ant-menu-inline ant-menu-light" role="menu" tabindex="0" data-menu-list="true"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">00实战搭建&amp;部署篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/00actual_combat"><span>0.更新日志</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/00actual_combat/01init"><span>1.项目初始化&amp;配置</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/00actual_combat/02code_specification"><span>2.代码规范</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-selected ant-menu-item-only-child"><span class="ant-menu-title-content"><a aria-current="page" class="active" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity"><span>3.代码质量</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/00actual_combat/04react_ts"><span>4.react+ts环境搭建</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/00actual_combat/05changelog"><span>5.更新日志changelog</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/00actual_combat/06webpack5_basic_config"><span>6.webpack5基本配置</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/00actual_combat/07comp_constructor"><span>7.组件库搭建</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/00actual_combat/08page_manage"><span>8.三大包管理器&amp;npm工程化&amp;发布流程</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/00actual_combat/09git_action"><span>9.Github Action、部署组件库文档</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/00actual_combat/10auto_npm_publish"><span>10.自动化篇-手写脚本一键自动tag、发包、引导登录npm</span></a></span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">01详解-项目搭建篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/01project_construction"><span>项目搭建篇总览</span></a></span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">02详解-项目打包篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/02project_build"><span>项目打包篇总览</span></a></span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">03详解-组件库搭建篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/03comp_construction"><span>组件库搭建篇总览</span></a></span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">04详解-包管理器篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/04package_manager"><span>包管理器篇总览</span></a></span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">05详解-项目自动化篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/05auto_op"><span>项目自动化篇总览</span></a></span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">06详解-项目部署篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/06project_deploy"><span>项目部署篇总览</span></a></span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">07详解-脚手架搭建篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/front_end_engineer_book//01docs/07cli"><span>脚手架搭建篇总览</span></a></span></li></ul></li></ul><div style="display:none" aria-hidden="true"></div></ul></div></div><div class="__dumi-default-layout-content"><div class="__dumi-default-mobile-content"><article><div class="__dumi-default-content-header markdown no-desc"><h1>3.代码质量</h1></div><div class="markdown"><h2 id="eslint"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#eslint"><span class="icon icon-link"></span></a>ESlint</h2><p>ESLint 是一个用于 JavaScript 代码的静态代码分析工具，它可以帮助开发人员发现和修复代码中的问题，确保代码的质量和一致性。ESLint 可以检查代码中的语法错误、代码风格问题以及可能的逻辑错误。</p><p>ESLint 的工作原理是通过解析 JavaScript 代码并应用一系列的规则来检查代码。这些规则可以根据项目的需要进行配置，以满足不同团队或项目的编码标准。</p><p>ESLint 的特点包括：</p><ul><li>可配置性：ESLint 的规则可以根据项目的需要进行配置，包括启用、禁用规则，以及设置规则的严格程度。</li><li>插件化：ESLint 支持通过插件扩展其功能，可以选择性地添加额外的规则或功能。</li><li>自动化：ESLint 可以集成到开发工具中，如编辑器或构建工具，以便在编写代码时自动进行检查。</li><li>错误报告：ESLint 可以生成详细的错误报告，包括错误的位置、规则名称和修复建议，以帮助开发人员快速定位和解决问题。</li></ul><p>在上面我们配置了 EditorConfig 和 Prettier 都是为了解决代码风格问题，而 ESLint 是主要为了解决代码质量问题，它能在我们编写代码时就检测出程序可能出现的隐性BUG，通过 eslint --fix 还能自动修复一些代码写法问题，比如你定义了 var a = 3 ，自动修复后为 const a = 3 。还有许多类似的强制扭转代码最佳写法的规则，在无法自动修复时，会给出红线提示，强迫开发人员为其寻求更好的解决方案。</p><h3 id="安装"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#安装"><span class="icon icon-link"></span></a>安装</h3><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add eslint@8.0.1 -D</span></div></pre></div><p>初始化配置文件</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">npx eslint --init</span></div></pre></div><p>会问这几个问题<img src="/front_end_engineer_book/static/image-20240615113734972.da1aa3ae.png" alt="image-20240615113734972"/></p><p>配置完成之后之前的js文件会报一个这样的错，这是因为我们创建的时候选择了使用<code>typescript</code>,接下来我们先配置下ts<img src="/front_end_engineer_book/static/image-20240615113751911.fc218ca9.png" alt="image-20240615113751911"/></p><h3 id="提前安装ts并配置文件"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#提前安装ts并配置文件"><span class="icon icon-link"></span></a>提前安装ts并配置文件</h3><p>转到ts目录去看</p><h3 id="生成的配置eslintrcjs文件，配置如下"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#生成的配置eslintrcjs文件，配置如下"><span class="icon icon-link"></span></a>生成的配置.eslintrc.js文件，配置如下</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain" data-10-js-token="module-0-0">module</span><span class="token punctuation" style="color:#393A34" data-10-js-token=".-0-6">.</span><span class="token property-access" data-10-js-token="exports-0-7">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-10-js-token="=-0-15">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-10-js-token="{-0-17">{</span><span class="token plain" data-10-js-token="-0-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;env&quot;-1-4">&quot;env&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-1-9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-10-js-token="{-1-11">{</span><span class="token plain" data-10-js-token="-1-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;browser&quot;-2-8">&quot;browser&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-2-17">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-10-js-token="true-2-19">true</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-2-23">,</span><span class="token plain" data-10-js-token="-2-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;es2021&quot;-3-8">&quot;es2021&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-3-16">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-10-js-token="true-3-18">true</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-3-22">,</span><span class="token plain" data-10-js-token="-3-23"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;node&quot;-4-8">&quot;node&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-4-14">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-10-js-token="true-4-16">true</span><span class="token plain" data-10-js-token="-4-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-10-js-token="}-5-4">}</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-5-5">,</span><span class="token plain" data-10-js-token="-5-6"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;extends&quot;-6-4">&quot;extends&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-6-13">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-10-js-token="[-6-15">[</span><span class="token plain" data-10-js-token="-6-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;standard-with-typescript&quot;-7-8">&quot;standard-with-typescript&quot;</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-7-34">,</span><span class="token plain" data-10-js-token="-7-35"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;plugin:react/recommended&quot;-8-8">&quot;plugin:react/recommended&quot;</span><span class="token plain" data-10-js-token="-8-34"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-10-js-token="]-9-4">]</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-9-5">,</span><span class="token plain" data-10-js-token="-9-6"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;overrides&quot;-10-4">&quot;overrides&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-10-15">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-10-js-token="[-10-17">[</span><span class="token plain" data-10-js-token="-10-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34" data-10-js-token="{-11-8">{</span><span class="token plain" data-10-js-token="-11-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;env&quot;-12-12">&quot;env&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-12-17">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-10-js-token="{-12-19">{</span><span class="token plain" data-10-js-token="-12-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;node&quot;-13-16">&quot;node&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-13-22">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-10-js-token="true-13-24">true</span><span class="token plain" data-10-js-token="-13-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34" data-10-js-token="}-14-12">}</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-14-13">,</span><span class="token plain" data-10-js-token="-14-14"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;files&quot;-15-12">&quot;files&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-15-19">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-10-js-token="[-15-21">[</span><span class="token plain" data-10-js-token="-15-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;.eslintrc.{js,cjs}&quot;-16-16">&quot;.eslintrc.{js,cjs}&quot;</span><span class="token plain" data-10-js-token="-16-36"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34" data-10-js-token="]-17-12">]</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-17-13">,</span><span class="token plain" data-10-js-token="-17-14"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;parserOptions&quot;-18-12">&quot;parserOptions&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-18-27">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-10-js-token="{-18-29">{</span><span class="token plain" data-10-js-token="-18-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;sourceType&quot;-19-16">&quot;sourceType&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-19-28">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;script&quot;-19-30">&quot;script&quot;</span><span class="token plain" data-10-js-token="-19-38"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34" data-10-js-token="}-20-12">}</span><span class="token plain" data-10-js-token="-20-13"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34" data-10-js-token="}-21-8">}</span><span class="token plain" data-10-js-token="-21-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-10-js-token="]-22-4">]</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-22-5">,</span><span class="token plain" data-10-js-token="-22-6"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;parserOptions&quot;-23-4">&quot;parserOptions&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-23-19">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-10-js-token="{-23-21">{</span><span class="token plain" data-10-js-token="-23-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;ecmaVersion&quot;-24-8">&quot;ecmaVersion&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-24-21">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;latest&quot;-24-23">&quot;latest&quot;</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-24-31">,</span><span class="token plain" data-10-js-token="-24-32"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;sourceType&quot;-25-8">&quot;sourceType&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-25-20">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;module&quot;-25-22">&quot;module&quot;</span><span class="token plain" data-10-js-token="-25-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-10-js-token="}-26-4">}</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-26-5">,</span><span class="token plain" data-10-js-token="-26-6"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;plugins&quot;-27-4">&quot;plugins&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-27-13">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-10-js-token="[-27-15">[</span><span class="token plain" data-10-js-token="-27-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;react&quot;-28-8">&quot;react&quot;</span><span class="token plain" data-10-js-token="-28-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-10-js-token="]-29-4">]</span><span class="token punctuation" style="color:#393A34" data-10-js-token=",-29-5">,</span><span class="token plain" data-10-js-token="-29-6"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c" data-10-js-token="&quot;rules&quot;-30-4">&quot;rules&quot;</span><span class="token operator" style="color:#393A34" data-10-js-token=":-30-11">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-10-js-token="{-30-13">{</span><span class="token plain" data-10-js-token="-30-14"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-10-js-token="}-31-4">}</span><span class="token plain" data-10-js-token="-31-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-10-js-token="-32-0"></span><span class="token punctuation" style="color:#393A34" data-10-js-token="}-32-0">}</span></div></pre></div><p>ESLint 8 中一些常用的配置选项包括：</p><ul><li>extends：用于扩展已有的配置，可以继承一些已经存在的配置文件，如&quot;eslint:recommended&quot;、&quot;airbnb&quot;等。</li><li>parser：指定要使用的解析器，如Babel、Typescript等。</li><li>parserOptions：用于配置解析器的选项，例如ecmaVersion、sourceType等。</li><li>env：定义代码执行的环境，比如browser、node等。</li><li>plugins：插件列表，可以加入一些自定义规则。</li><li>rules：规则配置，用于设定规则的严格程度，如&quot;error&quot;、&quot;warn&quot;、&quot;off&quot;。</li><li>globals：定义全局变量。</li><li>ignorePatterns：指定要忽略的文件路径模式。</li><li>reportUnusedDisableDirectives：指定是否要报告未使用的 ESLint 禁用规则注释。</li><li>fixTypes：配置用于执行自动修复的文件类型。</li><li>supersededConfigs：用于指示配置文件是否被后续配置所取代。</li><li>noInlineConfig：指示是否允许内联配置。</li><li>allowInlineConfig：控制是否允许在注释内配置规则。 但是我们发现这个配置文件有一个报错，是因为eslint检测了js文件</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6824fbc5962343459e3966604c748f18~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1546&amp;h=688&amp;s=155837&amp;e=png&amp;b=212121" alt=""/></p><p>安装一下</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add @typescript-eslint/parser@7.2.0 -D</span></div><div class="token-line" style="color:#393A34"><span class="token plain">yarn add @typescript-eslint/eslint-plugin@6.4.0 -D</span></div></pre></div><p>我们来更改一下eslint的配置，更改后的配置如下</p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f" data-12-js-token="const-0-0">const</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa" data-12-js-token="OFF-0-6">OFF</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-12-js-token="=-0-10">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-12-js-token="0-0-12">0</span><span class="token punctuation" style="color:#393A34" data-12-js-token=";-0-13">;</span><span class="token plain" data-12-js-token="-0-14"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-1-0"></span><span class="token keyword" style="color:#00009f" data-12-js-token="const-1-0">const</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa" data-12-js-token="WARN-1-6">WARN</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-12-js-token="=-1-11">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-12-js-token="1-1-13">1</span><span class="token punctuation" style="color:#393A34" data-12-js-token=";-1-14">;</span><span class="token plain" data-12-js-token="-1-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-2-0"></span><span class="token keyword" style="color:#00009f" data-12-js-token="const-2-0">const</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa" data-12-js-token="ERROR-2-6">ERROR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-12-js-token="=-2-12">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-12-js-token="2-2-14">2</span><span class="token punctuation" style="color:#393A34" data-12-js-token=";-2-15">;</span><span class="token plain" data-12-js-token="-2-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-12-js-token="-3-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="module-4-0">module</span><span class="token punctuation" style="color:#393A34" data-12-js-token=".-4-6">.</span><span class="token property-access" data-12-js-token="exports-4-7">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-12-js-token="=-4-15">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-4-17">{</span><span class="token plain" data-12-js-token="-4-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="env-5-0">	env</span><span class="token operator" style="color:#393A34" data-12-js-token=":-5-4">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-5-6">{</span><span class="token plain" data-12-js-token="-5-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="browser-6-0">		browser</span><span class="token operator" style="color:#393A34" data-12-js-token=":-6-9">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-12-js-token="true-6-11">true</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-6-15">,</span><span class="token plain" data-12-js-token="-6-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="es2021-7-0">		es2021</span><span class="token operator" style="color:#393A34" data-12-js-token=":-7-8">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-12-js-token="true-7-10">true</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-7-14">,</span><span class="token plain" data-12-js-token="-7-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="node-8-0">		node</span><span class="token operator" style="color:#393A34" data-12-js-token=":-8-6">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-12-js-token="true-8-8">true</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-8-12">,</span><span class="token plain" data-12-js-token="-8-13"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-9-0">	</span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-9-1">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-9-2">,</span><span class="token plain" data-12-js-token="-9-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-10-0">	</span><span class="token keyword" style="color:#00009f" data-12-js-token="extends-10-1">extends</span><span class="token operator" style="color:#393A34" data-12-js-token=":-10-8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="[-10-10">[</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;standard-with-typescript&#x27;-10-11">&#x27;standard-with-typescript&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-10-37">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;plugin:react/recommended&#x27;-10-39">&#x27;plugin:react/recommended&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token="]-10-65">]</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-10-66">,</span><span class="token plain" data-12-js-token="-10-67"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="settings-11-0">	settings</span><span class="token operator" style="color:#393A34" data-12-js-token=":-11-9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-11-11">{</span><span class="token plain" data-12-js-token="-11-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-12-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;react&#x27;-12-2">&#x27;react&#x27;</span><span class="token operator" style="color:#393A34" data-12-js-token=":-12-9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-12-11">{</span><span class="token plain" data-12-js-token="-12-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-13-0">			</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;version&#x27;-13-3">&#x27;version&#x27;</span><span class="token operator" style="color:#393A34" data-12-js-token=":-13-12">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;detect&#x27;-13-14">&#x27;detect&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-13-22">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 自动检测 React 版本</span><span class="token plain" data-12-js-token="-13-40"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-14-0">		</span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-14-2">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-14-3">,</span><span class="token plain" data-12-js-token="-14-4"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-15-0">		</span><span class="token comment" style="color:#999988;font-style:italic">// 这个配置是用于指定模块导入解析器的配置，主要用于告诉 ESLint 如何解析模块导入语句</span><span class="token plain" data-12-js-token="-15-49"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-16-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;import/resolver&#x27;-16-2">&#x27;import/resolver&#x27;</span><span class="token operator" style="color:#393A34" data-12-js-token=":-16-19">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-16-21">{</span><span class="token plain" data-12-js-token="-16-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-17-0">			</span><span class="token comment" style="color:#999988;font-style:italic">// node：指定了使用 Node.js 解析模块导入语句的配置。在这里，配置了支持的文件扩展名，包括 .tsx、.ts、.js 和 .json。</span><span class="token plain" data-12-js-token="-17-77"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="node-18-0">			node</span><span class="token operator" style="color:#393A34" data-12-js-token=":-18-7">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-18-9">{</span><span class="token plain" data-12-js-token="-18-10"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="extensions-19-0">				extensions</span><span class="token operator" style="color:#393A34" data-12-js-token=":-19-14">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="[-19-16">[</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;.tsx&#x27;-19-17">&#x27;.tsx&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-19-23">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;.ts&#x27;-19-25">&#x27;.ts&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-19-30">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;.js&#x27;-19-32">&#x27;.js&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-19-37">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;.json&#x27;-19-39">&#x27;.json&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token="]-19-46">]</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-19-47">,</span><span class="token plain" data-12-js-token="-19-48"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-20-0">			</span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-20-3">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-20-4">,</span><span class="token plain" data-12-js-token="-20-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-21-0">			</span><span class="token comment" style="color:#999988;font-style:italic">// typescript：指定了使用 TypeScript 解析模块导入语句的配置。这个配置为空对象，表示使用默认配置。</span><span class="token plain" data-12-js-token="-21-64"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="typescript-22-0">			typescript</span><span class="token operator" style="color:#393A34" data-12-js-token=":-22-13">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-22-15">{</span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-22-16">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-22-17">,</span><span class="token plain" data-12-js-token="-22-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-23-0">		</span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-23-2">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-23-3">,</span><span class="token plain" data-12-js-token="-23-4"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-24-0">	</span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-24-1">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-24-2">,</span><span class="token plain" data-12-js-token="-24-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="overrides-25-0">	overrides</span><span class="token operator" style="color:#393A34" data-12-js-token=":-25-10">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="[-25-12">[</span><span class="token plain" data-12-js-token="-25-13"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-26-0">		</span><span class="token comment" style="color:#999988;font-style:italic">// 检测ts和tsx，注意files要包括文件，否则会报错</span><span class="token plain" data-12-js-token="-26-32"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-27-0">		</span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-27-2">{</span><span class="token plain" data-12-js-token="-27-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="files-28-0">			files</span><span class="token operator" style="color:#393A34" data-12-js-token=":-28-8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="[-28-10">[</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;./src/**/*.ts&#x27;-28-11">&#x27;./src/**/*.ts&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-28-26">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;./src/**/*.tsx&#x27;-28-28">&#x27;./src/**/*.tsx&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token="]-28-44">]</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-28-45">,</span><span class="token plain" data-12-js-token="-28-46"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="parser-29-0">			parser</span><span class="token operator" style="color:#393A34" data-12-js-token=":-29-9">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;@typescript-eslint/parser&#x27;-29-11">&#x27;@typescript-eslint/parser&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-29-38">,</span><span class="token plain" data-12-js-token="-29-39"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="parserOptions-30-0">			parserOptions</span><span class="token operator" style="color:#393A34" data-12-js-token=":-30-16">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-30-18">{</span><span class="token plain" data-12-js-token="-30-19"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="sourceType-31-0">				sourceType</span><span class="token operator" style="color:#393A34" data-12-js-token=":-31-14">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;module&#x27;-31-16">&#x27;module&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-31-24">,</span><span class="token plain" data-12-js-token="-31-25"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="project-32-0">				project</span><span class="token operator" style="color:#393A34" data-12-js-token=":-32-11">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;./tsconfig.json&#x27;-32-13">&#x27;./tsconfig.json&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-32-30">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 指定 TypeScript 配置文件</span><span class="token plain" data-12-js-token="-32-53"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-33-0">			</span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-33-3">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-33-4">,</span><span class="token plain" data-12-js-token="-33-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-34-0">		</span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-34-2">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-34-3">,</span><span class="token plain" data-12-js-token="-34-4"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-35-0">		</span><span class="token comment" style="color:#999988;font-style:italic">// 不检测js文件的类型, 有ignorePatterns就不需要了</span><span class="token plain" data-12-js-token="-35-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-36-0">		</span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-36-2">{</span><span class="token plain" data-12-js-token="-36-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-37-0">			</span><span class="token keyword" style="color:#00009f" data-12-js-token="extends-37-3">extends</span><span class="token operator" style="color:#393A34" data-12-js-token=":-37-10">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="[-37-12">[</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;plugin:@typescript-eslint/disable-type-checked&#x27;-37-13">&#x27;plugin:@typescript-eslint/disable-type-checked&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token="]-37-61">]</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-37-62">,</span><span class="token plain" data-12-js-token="-37-63"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="files-38-0">			files</span><span class="token operator" style="color:#393A34" data-12-js-token=":-38-8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="[-38-10">[</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;./**/*.js&#x27;-38-11">&#x27;./**/*.js&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token="]-38-22">]</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-38-23">,</span><span class="token plain" data-12-js-token="-38-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-39-0">		</span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-39-2">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-39-3">,</span><span class="token plain" data-12-js-token="-39-4"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-40-0">	</span><span class="token punctuation" style="color:#393A34" data-12-js-token="]-40-1">]</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-40-2">,</span><span class="token plain" data-12-js-token="-40-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="plugins-41-0">	plugins</span><span class="token operator" style="color:#393A34" data-12-js-token=":-41-8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="[-41-10">[</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;react&#x27;-41-11">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token="]-41-18">]</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-41-19">,</span><span class="token plain" data-12-js-token="-41-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="rules-42-0">	rules</span><span class="token operator" style="color:#393A34" data-12-js-token=":-42-6">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="{-42-8">{</span><span class="token plain" data-12-js-token="-42-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-43-0">		</span><span class="token comment" style="color:#999988;font-style:italic">// 对象的最后一个可以增加【,】</span><span class="token plain" data-12-js-token="-43-19"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-44-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;@typescript-eslint/comma-dangle&#x27;-44-2">&#x27;@typescript-eslint/comma-dangle&#x27;</span><span class="token operator" style="color:#393A34" data-12-js-token=":-44-35">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa" data-12-js-token="OFF-44-37">OFF</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-44-40">,</span><span class="token plain" data-12-js-token="-44-41"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-45-0">		</span><span class="token comment" style="color:#999988;font-style:italic">// 单引号关闭</span><span class="token plain" data-12-js-token="-45-10"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-46-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;@typescript-eslint/quotes&#x27;-46-2">&#x27;@typescript-eslint/quotes&#x27;</span><span class="token operator" style="color:#393A34" data-12-js-token=":-46-29">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa" data-12-js-token="OFF-46-31">OFF</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-46-34">,</span><span class="token plain" data-12-js-token="-46-35"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-47-0">		</span><span class="token comment" style="color:#999988;font-style:italic">// 需要分号</span><span class="token plain" data-12-js-token="-47-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-48-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;@typescript-eslint/semi&#x27;-48-2">&#x27;@typescript-eslint/semi&#x27;</span><span class="token operator" style="color:#393A34" data-12-js-token=":-48-27">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa" data-12-js-token="OFF-48-29">OFF</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-48-32">,</span><span class="token plain" data-12-js-token="-48-33"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-49-0">		</span><span class="token comment" style="color:#999988;font-style:italic">// 不允许使用var</span><span class="token plain" data-12-js-token="-49-13"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-50-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;no-var&#x27;-50-2">&#x27;no-var&#x27;</span><span class="token operator" style="color:#393A34" data-12-js-token=":-50-10">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa" data-12-js-token="ERROR-50-12">ERROR</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-50-17">,</span><span class="token plain" data-12-js-token="-50-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-51-0">		</span><span class="token comment" style="color:#999988;font-style:italic">// 函数不需要ts标注返回类型</span><span class="token plain" data-12-js-token="-51-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-52-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;@typescript-eslint/explicit-function-return-type&#x27;-52-2">&#x27;@typescript-eslint/explicit-function-return-type&#x27;</span><span class="token operator" style="color:#393A34" data-12-js-token=":-52-52">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa" data-12-js-token="OFF-52-54">OFF</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-52-57">,</span><span class="token plain" data-12-js-token="-52-58"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-53-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;no-tabs&#x27;-53-2">&#x27;no-tabs&#x27;</span><span class="token operator" style="color:#393A34" data-12-js-token=":-53-11">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa" data-12-js-token="OFF-53-13">OFF</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-53-16">,</span><span class="token plain" data-12-js-token="-53-17"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-54-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;@typescript-eslint/indent&#x27;-54-2">&#x27;@typescript-eslint/indent&#x27;</span><span class="token operator" style="color:#393A34" data-12-js-token=":-54-29">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa" data-12-js-token="OFF-54-31">OFF</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-54-34">,</span><span class="token plain" data-12-js-token="-54-35"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-55-0">	</span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-55-1">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-55-2">,</span><span class="token plain" data-12-js-token="-55-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-56-0">	</span><span class="token comment" style="color:#999988;font-style:italic">// 忽略文件</span><span class="token plain" data-12-js-token="-56-8"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="ignorePatterns-57-0">	ignorePatterns</span><span class="token operator" style="color:#393A34" data-12-js-token=":-57-15">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-12-js-token="[-57-17">[</span><span class="token plain" data-12-js-token="-57-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-58-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;/lib/**/*&#x27;-58-2">&#x27;/lib/**/*&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-58-13">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Ignore built files.</span><span class="token plain" data-12-js-token="-58-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-59-0">		</span><span class="token string" style="color:#e3116c" data-12-js-token="&#x27;**/*.js&#x27;-59-2">&#x27;**/*.js&#x27;</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-59-11">,</span><span class="token plain" data-12-js-token="-59-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-60-0">	</span><span class="token punctuation" style="color:#393A34" data-12-js-token="]-60-1">]</span><span class="token punctuation" style="color:#393A34" data-12-js-token=",-60-2">,</span><span class="token plain" data-12-js-token="-60-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-12-js-token="-61-0"></span><span class="token punctuation" style="color:#393A34" data-12-js-token="}-61-0">}</span><span class="token punctuation" style="color:#393A34" data-12-js-token=";-61-1">;</span></div></pre></div><p>这样配置完成之后就不会检测js文件了，但是这时候我们发现我们配置了不适用var，但是ts文件中竟然没有报错</p><p><img src="/front_end_engineer_book/static/image-20240615113818592.9c82afa3.png" alt="image-20240615113818592"/></p><p>这时候可以看一下eslint插件的输出，看看插件是否报错，对于其他的插件的配置也可以使用一样的方法去检测配置是否正确</p><p><img src="/front_end_engineer_book/static/image-20240615113905087.db5eeb9a.png" alt="image-20240615113905087"/></p><p>我们看到一个报错，说的是，这里../错了，我们多输入了一个.,导致路劲不对，删除即可</p><p><img src="/front_end_engineer_book/static/image-20240615113930685.dd2beade.png" alt="image-20240615113930685"/></p><p>更改后的配置</p><p><img src="/front_end_engineer_book/static/image-20240615113953552.a73d0c0a.png" alt="image-20240615113953552"/></p><p>这样更改完成之后，ts文件的报错就恢复了</p><p><img src="/front_end_engineer_book/static/image-20240615114013094.955d271b.png" alt="image-20240615114013094"/></p><h3 id="配置保存自动修复"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#配置保存自动修复"><span class="icon icon-link"></span></a>配置保存自动修复</h3><p>安装eslint插件<img src="/front_end_engineer_book/static/image-20240615114100010.846ec39a.png" alt="image-20240615114100010"/></p><p>再到之前创建的 .vscode/settings.json 中添加以下代码：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">// ========================eslint===================================</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;eslint.validate&quot;: [&quot;javascript&quot;, &quot;javascriptreact&quot;, &quot;typescript&quot;, &quot;typescriptreact&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;typescript.tsdk&quot;: &quot;./node_modules/typescript/lib&quot;, // 代替 vscode 的 ts 语法智能提示</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  // 保存自动修复</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;editor.codeActionsOnSave&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;source.fixAll.eslint&quot;: &quot;explicit&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  // =================================================================</span></div></pre></div><p>配置完整之后最好重启一下vscode，否自动修复不一定生效，如下是实现效果<img src="/front_end_engineer_book/static/lint修复.e47a0ced.gif" alt=""/></p><p>这里还有一个报错是因为我们配置的prettier和eslint冲突了，我们使用tabs作为缩进风格，但是eslint中的导入配置中有no-tabs，我们去配置一下，这样就OK了</p><p><img src="/front_end_engineer_book/static/image-20240615114447450.7fe1e29e.png" alt="image-20240615114447450"/></p><p><img src="/front_end_engineer_book/static/image-20240615114457608.00de2a2f.png" alt="image-20240615114457608"/></p><h3 id="配置忽略文件eslintignore-和-prettierignore"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#配置忽略文件eslintignore-和-prettierignore"><span class="icon icon-link"></span></a>配置忽略文件.eslintignore 和 .prettierignore</h3><p>一般保持一致就行了</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain" data-14-unknown-token="/node_modules-0-0">/node_modules</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-14-unknown-token="/build-1-0">/build</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-14-unknown-token="/dist-2-0">/dist</span></div></pre></div><h2 id="stylelint"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#stylelint"><span class="icon icon-link"></span></a>StyleLint</h2><p>StyleLint 是一个强大的工具，用于在代码中发现并报告样式代码中的问题。它可以帮助团队保持一致的代码风格，并避免常见的错误。StyleLint 支持多种样式语言，包括 CSS、SCSS、Less 等，可以检查各种规则，如缩进、空格、命名约定等。它还支持自定义规则，以便根据团队的具体需求进行配置。</p><p>要开始使用 StyleLint，首先需要安装 StyleLint 包，然后在项目中配置一个 .stylelintrc 文件来指定检查规则。可以通过命令行工具或与构建过程集成来运行 StyleLint。当 StyleLint 检测到问题时，它会生成报告，其中包含有关问题的详细信息和建议的修复方法。</p><h3 id="安装-1"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#安装-1"><span class="icon icon-link"></span></a>安装</h3><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add stylelint@16.2.1 stylelint-config-standard@36.0.0 -D</span></div></pre></div><h3 id="增加stylelintrcjs配置文件"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#增加stylelintrcjs配置文件"><span class="icon icon-link"></span></a>增加.stylelintrc.js配置文件</h3><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain" data-16-js-token="module-0-0">module</span><span class="token punctuation" style="color:#393A34" data-16-js-token=".-0-6">.</span><span class="token property-access" data-16-js-token="exports-0-7">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-16-js-token="=-0-15">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-16-js-token="{-0-17">{</span><span class="token plain" data-16-js-token="-0-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-16-js-token="-1-0">	</span><span class="token comment" style="color:#999988;font-style:italic">// 从标准配置中继承规则</span><span class="token plain" data-16-js-token="-1-14"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-16-js-token="-2-0">	</span><span class="token keyword" style="color:#00009f" data-16-js-token="extends-2-1">extends</span><span class="token operator" style="color:#393A34" data-16-js-token=":-2-8">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-16-js-token="[-2-10">[</span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;stylelint-config-standard&#x27;-2-11">&#x27;stylelint-config-standard&#x27;</span><span class="token punctuation" style="color:#393A34" data-16-js-token="]-2-38">]</span><span class="token punctuation" style="color:#393A34" data-16-js-token=",-2-39">,</span><span class="token plain" data-16-js-token="-2-40"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-16-js-token="-4-0">	</span><span class="token comment" style="color:#999988;font-style:italic">// 规则配置</span><span class="token plain" data-16-js-token="-4-8"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-16-js-token="rules-5-0">	rules</span><span class="token operator" style="color:#393A34" data-16-js-token=":-5-6">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-16-js-token="{-5-8">{</span><span class="token plain" data-16-js-token="-5-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token comment" style="color:#999988;font-style:italic">// 禁用注释前的空行规则</span><span class="token plain" data-16-js-token="-6-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;comment-empty-line-before&#x27;-7-3">&#x27;comment-empty-line-before&#x27;</span><span class="token operator" style="color:#393A34" data-16-js-token=":-7-30">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-16-js-token="null-7-32">null</span><span class="token punctuation" style="color:#393A34" data-16-js-token=",-7-36">,</span><span class="token plain" data-16-js-token="-7-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token comment" style="color:#999988;font-style:italic">// 禁用声明前的空行规则</span><span class="token plain" data-16-js-token="-8-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;declaration-empty-line-before&#x27;-9-3">&#x27;declaration-empty-line-before&#x27;</span><span class="token operator" style="color:#393A34" data-16-js-token=":-9-34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-16-js-token="null-9-36">null</span><span class="token punctuation" style="color:#393A34" data-16-js-token=",-9-40">,</span><span class="token plain" data-16-js-token="-9-41"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token comment" style="color:#999988;font-style:italic">// 指定函数名的大小写为小写</span><span class="token plain" data-16-js-token="-10-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;function-name-case&#x27;-11-3">&#x27;function-name-case&#x27;</span><span class="token operator" style="color:#393A34" data-16-js-token=":-11-23">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;lower&#x27;-11-25">&#x27;lower&#x27;</span><span class="token punctuation" style="color:#393A34" data-16-js-token=",-11-32">,</span><span class="token plain" data-16-js-token="-11-33"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token comment" style="color:#999988;font-style:italic">// 禁用选择器特异性递减规则</span><span class="token plain" data-16-js-token="-12-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;no-descending-specificity&#x27;-13-3">&#x27;no-descending-specificity&#x27;</span><span class="token operator" style="color:#393A34" data-16-js-token=":-13-30">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-16-js-token="null-13-32">null</span><span class="token punctuation" style="color:#393A34" data-16-js-token=",-13-36">,</span><span class="token plain" data-16-js-token="-13-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token comment" style="color:#999988;font-style:italic">// 禁用无效的双斜杠注释规则</span><span class="token plain" data-16-js-token="-14-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;no-invalid-double-slash-comments&#x27;-15-3">&#x27;no-invalid-double-slash-comments&#x27;</span><span class="token operator" style="color:#393A34" data-16-js-token=":-15-37">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-16-js-token="null-15-39">null</span><span class="token punctuation" style="color:#393A34" data-16-js-token=",-15-43">,</span><span class="token plain" data-16-js-token="-15-44"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token comment" style="color:#999988;font-style:italic">// 指定规则前需要空行</span><span class="token plain" data-16-js-token="-16-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  </span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;rule-empty-line-before&#x27;-17-3">&#x27;rule-empty-line-before&#x27;</span><span class="token operator" style="color:#393A34" data-16-js-token=":-17-27">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;always&#x27;-17-29">&#x27;always&#x27;</span><span class="token punctuation" style="color:#393A34" data-16-js-token=",-17-37">,</span><span class="token plain" data-16-js-token="-17-38"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-16-js-token="-18-0">	</span><span class="token punctuation" style="color:#393A34" data-16-js-token="}-18-1">}</span><span class="token punctuation" style="color:#393A34" data-16-js-token=",-18-2">,</span><span class="token plain" data-16-js-token="-18-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-16-js-token="-20-0">	</span><span class="token comment" style="color:#999988;font-style:italic">// 忽略检查的文件或文件夹</span><span class="token plain" data-16-js-token="-20-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-16-js-token="ignoreFiles-21-0">	ignoreFiles</span><span class="token operator" style="color:#393A34" data-16-js-token=":-21-12">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-16-js-token="[-21-14">[</span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;node_modules/**/*&#x27;-21-15">&#x27;node_modules/**/*&#x27;</span><span class="token punctuation" style="color:#393A34" data-16-js-token=",-21-34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-16-js-token="&#x27;build/**/*&#x27;-21-36">&#x27;build/**/*&#x27;</span><span class="token punctuation" style="color:#393A34" data-16-js-token="]-21-48">]</span><span class="token punctuation" style="color:#393A34" data-16-js-token=",-21-49">,</span><span class="token plain" data-16-js-token="-21-50"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-16-js-token="}-22-2">}</span><span class="token punctuation" style="color:#393A34" data-16-js-token=";-22-3">;</span></div></pre></div><ul><li>extends：可以从已有的 StyleLint 配置中继承规则。这样可以避免重复定义相同的规则集。例如，&quot;extends&quot;: &quot;stylelint-config-standard&quot; 将从标准配置中继承规则。</li><li>plugins：用于指定要使用的 StyleLint 插件。插件可以添加额外的规则或功能。例如，&quot;plugins&quot;: [&quot;stylelint-scss&quot;] 将启用 SCSS 相关的规则和功能。</li><li>rules：指定项目中的规则配置。可以根据项目需求启用、禁用或修改规则。例如，&quot;rules&quot;: <!-- -->{<!-- --> &quot;indentation&quot;: &quot;tab&quot;, &quot;selector-pseudo-class-no-unknown&quot;: [true, <!-- -->{<!-- --> &quot;ignorePseudoClasses&quot;: [&quot;global&quot;] <!-- -->}<!-- -->] <!-- -->}<!-- --> 将规定使用制表符缩进，并忽略全局伪类的未知类规则。</li><li>ignoreFiles：指定 StyleLint 忽略检查的文件或文件夹。可以使用 glob 模式匹配多个文件或文件夹。例如，&quot;ignoreFiles&quot;: [&quot;node_modules/&quot;, &quot;**/*.min.css&quot;] 将忽略 node_modules 文件夹和所有.min.css 文件。</li></ul><h3 id="配置保存自动修复-1"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#配置保存自动修复-1"><span class="icon icon-link"></span></a>配置保存自动修复</h3><p>安装stylelint插件</p><p><img src="/front_end_engineer_book/static/image-20240615114506501.a1f4d53e.png" alt="image-20240615114506501"/></p><p>并且在 .vscode/settings.json 中增加以下代码：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">// ========================stylelint==============================</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  // 使用 stylelint 自身的校验即可, 关闭vscode验证</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;css.validate&quot;: false,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;less.validate&quot;: false,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;scss.validate&quot;: false,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;stylelint.validate&quot;: [&quot;css&quot;, &quot;less&quot;, &quot;sass&quot;, &quot;scss&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  // 在editor.codeActionsOnSave中增加styleLint修复</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span></div><div class="token-line" style="color:#393A34"><span class="token plain">  // 保存自动修复</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;editor.codeActionsOnSave&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;source.fixAll.stylelint&quot;: &quot;explicit&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// ===============================================================</span></div></pre></div><p>这时候新建一个less文件，就已经显示报错提示了</p><p><img src="/front_end_engineer_book/static/image-20240615114516236.df2c318b.png" alt="image-20240615114516236"/></p><p>保存也可以自动修复了</p><p><img src="/front_end_engineer_book/static/css修复.d1845c22.gif" alt=""/></p><h3 id="配置根据分组排序"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#配置根据分组排序"><span class="icon icon-link"></span></a>配置根据分组排序</h3><p>就是配置这个总是不生效，我还以为配置出错了，重启vscode！！！，重启vscode！！！重启vscode！！！，</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add stylelint-config-rational-order@0.1.2 -D</span></div></pre></div><p>会按照如下属性进行分组排序</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">1.Positioning   2.Box Model    3.Typography    4.Visual    5.Animation    6.Misc</span></div></pre></div><p>效果如下：<img src="/front_end_engineer_book/static/css位置修复.b25ed9a6.gif" alt=""/></p><h3 id="提示我们写的矛盾样式"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#提示我们写的矛盾样式"><span class="icon icon-link"></span></a>提示我们写的矛盾样式</h3><p>stylelint-declaration-block-no-ignored-properties 用于提示我们写的矛盾样式，比如下面的代码中 width 是会被浏览器忽略的，这可以避免我们犯一些低级错误～</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add stylelint-declaration-block-no-ignored-properties@2.8.0 -D</span></div></pre></div><p>lint文件中配置</p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// .stylelintrc</span><span class="token plain" data-21-js-token="-0-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-21-js-token="-1-0"></span><span class="token punctuation" style="color:#393A34" data-21-js-token="{-1-0">{</span><span class="token plain" data-21-js-token="-1-1"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c" data-21-js-token="&quot;plugins&quot;-2-2">&quot;plugins&quot;</span><span class="token operator" style="color:#393A34" data-21-js-token=":-2-11">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-21-js-token="[-2-13">[</span><span class="token string" style="color:#e3116c" data-21-js-token="&quot;stylelint-declaration-block-no-ignored-properties&quot;-2-14">&quot;stylelint-declaration-block-no-ignored-properties&quot;</span><span class="token punctuation" style="color:#393A34" data-21-js-token="]-2-65">]</span><span class="token punctuation" style="color:#393A34" data-21-js-token=",-2-66">,</span><span class="token plain" data-21-js-token="-2-67"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c" data-21-js-token="&quot;rules&quot;-3-2">&quot;rules&quot;</span><span class="token operator" style="color:#393A34" data-21-js-token=":-3-9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-21-js-token="{-3-11">{</span><span class="token plain" data-21-js-token="-3-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c" data-21-js-token="&quot;plugin/declaration-block-no-ignored-properties&quot;-4-4">&quot;plugin/declaration-block-no-ignored-properties&quot;</span><span class="token operator" style="color:#393A34" data-21-js-token=":-4-52">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-21-js-token="true-4-54">true</span><span class="token plain" data-21-js-token="-4-58"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-21-js-token="}-5-2">}</span><span class="token plain" data-21-js-token="-5-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-21-js-token="-6-0"></span><span class="token punctuation" style="color:#393A34" data-21-js-token="}-6-0">}</span></div></pre></div><p>重启、重启、重启！！！！</p><p><img src="/front_end_engineer_book/static/image-20240615115136101.5908c8fd.png" alt="image-20240615115136101"/></p><h2 id="eslint、stylelint-和-prettier-的冲突"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#eslint、stylelint-和-prettier-的冲突"><span class="icon icon-link"></span></a>ESLint、Stylelint 和 Prettier 的冲突</h2><p>有时候 eslint 和 stylelint 的自定义规则和 prettier 定义的规则冲突了，比如在 .eslintrc.js 中某个 extends 的配置设置了缩进大小为 4 ，但是我 .prettierrc 中我设置的缩进为 2 ，那就会出现我们保存时，先是 eslint 的自动修复缩进大小为 4 ，但是保存的时候 prettier 又给他格式化回去了，eslint就直接报错。在上面的时候我们遇到过一个使用tab的报错，但是我们是手动的去禁用掉这个规则，现在我们可以通过配置插件解决这个问题。</p><h3 id="eslint冲突"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#eslint冲突"><span class="icon icon-link"></span></a>eslint冲突</h3><p>安装插件 eslint-config-prettier ，这个插件会禁用所有和 prettier 起冲突的规则：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add eslint-config-prettier@9.1.0 -D</span></div></pre></div><p>添加以下配置到 .eslintrc.js 的 extends 中：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">extends: [&#x27;standard-with-typescript&#x27;, &#x27;plugin:react/recommended&#x27;, &#x27;prettier&#x27;],</span></div></pre></div><p>这里需要注意， &#x27;prettier&#x27; 及之后的配置要放到原来添加的配置的后面，这样才能让 prettier 禁用之后与其冲突的规则。</p><h3 id="stylelint冲突"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#stylelint冲突"><span class="icon icon-link"></span></a>stylelint冲突</h3><p>stylelint 的冲突解决也是一样的，先安装插件 stylelint-config-prettier ：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add stylelint-config-prettier@9.0.5 -D</span></div><div class="token-line" style="color:#393A34"><span class="token plain">yarn add stylelint-prettier@5.0.0 -D</span></div></pre></div><p>添加配置</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">// 从标准配置中继承规则</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	extends: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-25-unknown-token="&#x27;stylelint-config-standard&#x27;,-2-0">		&#x27;stylelint-config-standard&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-25-unknown-token="&#x27;stylelint-config-rational-order&#x27;,-3-0">		&#x27;stylelint-config-rational-order&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-25-unknown-token="&#x27;prettier&#x27;,-4-0">		&#x27;prettier&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-25-unknown-token="],-5-0">	],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="token plain">  plugins: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &#x27;stylelint-declaration-block-no-ignored-properties&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &#x27;stylelint-prettier&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  ],</span></div></pre></div><h3 id="增加lint命令"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#增加lint命令"><span class="icon icon-link"></span></a>增加lint命令</h3><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">&quot;lint&quot;: &quot;npm run lint-eslint &amp;&amp; npm run lint-stylelint&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		&quot;lint-eslint&quot;: &quot;eslint -c .eslintrc.js --ext .ts,.tsx,.js src&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		&quot;lint-stylelint&quot;: &quot;stylelint --config .stylelintrc.js src/**/*.{less,css,scss}&quot;</span></div></pre></div><h2 id="lint-stagedhusky"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#lint-stagedhusky"><span class="icon icon-link"></span></a>lint-staged&amp;husky</h2><p><strong>lint-staged</strong></p><p>lint-staged 是一个在提交代码之前运行linter或其他工具的工具。这意味着当开发人员尝试提交代码到版本控制系统（如git）时，lint-staged 会只对暂存区（staged files）的文件运行配置的命令，这通常是代码风格检查器（如ESLint、Prettier）、代码格式化工具或测试套件。</p><p>使用lint-staged可以确保只有符合项目规定代码质量标准的代码被提交，减少了不必要的错误和风格问题被引入代码库的可能性。</p><p>在一个项目中使用lint-staged通常包括以下步骤：</p><p>添加lint-staged到项目的依赖中。 在package.json中配置lint-staged，指定哪些文件与相对应的校验命令。 提交代码时，lint-staged会自动运行只对staged文件的检查。</p><p><strong>husky</strong></p><p>husky 是一个用于简化Git钩子（hooks）的设置的工具，允许开发者轻松地在各种Git事件触发时运行脚本。例如，在提交之前（pre-commit）、推送之前（pre-push）、或者在提交信息被写入后（commit-msg）等。</p><p>husky的使用可以提高项目团队的工作效率，确保代码库中的代码符合特定的质量标准。它通常与lint-staged一起使用，以在提交前自动执行代码的静态检查。</p><p>使用husky包括以下简单步骤：</p><p>添加husky到项目依赖。 配置Git钩子，使用husky的配置。 当相应的Git事件被触发时，定义的脚本就会自动执行。</p><h3 id="安装-2"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#安装-2"><span class="icon icon-link"></span></a>安装</h3><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add husky@9.0.11 lint-staged@15.2.2 -D</span></div></pre></div><p>启用husky，执行如下命令会自动在package中增加命令</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">npx husky install</span></div></pre></div><p>husky prepare 命令，自动加入，有时候也没法自动加入，手动写也是可以的</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain" data-29-unknown-token="{-0-0">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;scripts&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;prepare&quot;: &quot;husky install&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-29-unknown-token="}-4-0">}</span></div></pre></div><p>在 package.json 中添加以下代码</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain" data-30-unknown-token="{-0-0">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	&quot;husky&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;hooks&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;pre-commit&quot;: &quot;lint-staged&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;lint-staged&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;*.{ts,tsx,js}&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;eslint --config .eslintrc.js&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;*.{css,less,scss}&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;stylelint --config .stylelintrc.js&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;*.{ts,tsx,js,json,html,yml,css,less,scss,md}&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;prettier --write&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  },</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-30-unknown-token="}-17-0">}</span></div></pre></div><p>修改.husky/pre-commit脚本的内容，将.husky/pre-commit脚本的内容改为npm run lint-staged</p><p><img src="/front_end_engineer_book/static/image-20240615115150060.277381dc.png" alt="image-20240615115150060"/></p><p>通过上面的步骤，就完成了lint-staged的配置，这个时候再进行 git 提交时，将只检查暂存区（staged）的文件，不会检查项目所有文件，加快了每次提交 lint 检查的速度，同时也不会被历史遗留问题影响。通过这样的约束让我们定义的规则规范大家都能去遵守，共同维护代码的质量。</p><p><img src="/front_end_engineer_book/static/image-20240615115158539.3fc4c77f.png" alt="image-20240615115158539"/></p><h2 id="commitlint"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#commitlint"><span class="icon icon-link"></span></a>commitlint</h2><p>配置提交校验，commitlint 可以帮助我们进行 git commit 时的 message 格式是否符合规范</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add @commitlint/cli@19.2.0 @commitlint/config-conventional@19.1.0 -D</span></div></pre></div><p>@commitlint/config-conventional 这是一个规范配置,标识采用什么规范来执行消息校验, 这个默认是Angular的提交规范</p><p>新增配置文件.commitlintrc.js</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	extends: [&#x27;@commitlint/config-conventional&#x27;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	rules: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		&#x27;type-enum&#x27;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="2,-4-0">			2,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;always&#x27;,-5-0">			&#x27;always&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="[-6-0">			[</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;build&#x27;,-7-0">				&#x27;build&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;ci&#x27;,-8-0">				&#x27;ci&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;chore&#x27;,-9-0">				&#x27;chore&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;docs&#x27;,-10-0">				&#x27;docs&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;feat&#x27;,-11-0">				&#x27;feat&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;fix&#x27;,-12-0">				&#x27;fix&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;perf&#x27;,-13-0">				&#x27;perf&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;refactor&#x27;,-14-0">				&#x27;refactor&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;revert&#x27;,-15-0">				&#x27;revert&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;style&#x27;,-16-0">				&#x27;style&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;test&#x27;,-17-0">				&#x27;test&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="&#x27;addLog&#x27;,-18-0">				&#x27;addLog&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="],-19-0">			],</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="],-20-0">		],</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="},-21-0">	},</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-32-unknown-token="};-22-0">};</span></div></pre></div><p>随后回到 package.json 的 husky 配置，增加一个钩子，并且改写husky的commit-msg钩子<img src="/front_end_engineer_book/static/image-20240615115208270.5a86966a.png" alt="image-20240615115208270"/></p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">&quot;husky&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		&quot;hooks&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">			&quot;pre-commit&quot;: &quot;lint-staged&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">			&quot;commit-msg&quot;: &quot;commitlint --config .commitlintrc.js -E HUSKY_GIT_PARAMS&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-33-unknown-token="}-4-0">		}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-33-unknown-token="},-5-0">	},</span></div></pre></div><p>效果如下</p><p><img src="/front_end_engineer_book/static/image-20240615115216625.29a185cf.png" alt="image-20240615115216625"/></p><h2 id="配置可视化的提交提示"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#配置可视化的提交提示"><span class="icon icon-link"></span></a>配置可视化的提交提示</h2><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add commitizen@4.3.0 cz-conventional-changelog@3.3.0 -D</span></div></pre></div><p>在pageage.json中增加更改commitizen的配置，并增加脚本</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain" data-35-unknown-token="&quot;config&quot;:{-0-0">&quot;config&quot;:{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;commitizen&quot;:{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;path&quot;:&quot;node_modules/cz-conventional-changelog&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-35-unknown-token="}-4-0">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-35-unknown-token="-5-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-35-unknown-token="&quot;scripts&quot;:{-6-0">&quot;scripts&quot;:{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    commit:&quot;git-cz&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-35-unknown-token="}-8-0">}</span></div></pre></div><p><img src="/front_end_engineer_book/static/image-20240615115225504.efc99f5c.png" alt="image-20240615115225504"/></p><h2 id="配置自定义提交规范"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#配置自定义提交规范"><span class="icon icon-link"></span></a>配置自定义提交规范</h2><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add cz-customizable@7.0.0 commitlint-config-cz@0.13.3 -D</span></div></pre></div><p>变更 commitlint.config.js 这里采用自己定义的规范,将会覆盖上面那个,所以上面那个可以不用安装</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	extends: [&#x27;cz&#x27;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	rules: {},</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-37-unknown-token="};-3-0">};</span></div></pre></div><p>增加 .cz-config.js</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">&#x27;use strict&#x27;;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	types: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{value: &#x27;feat&#x27;, name: &#x27;✨新增:    新的内容&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{value: &#x27;fix&#x27;, name: &#x27;🐛修复:    修复一个Bug&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{value: &#x27;docs&#x27;, name: &#x27;📝文档:    变更的只有文档&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{value: &#x27;style&#x27;, name: &#x27;💄格式:    空格, 分号等格式修复&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{value: &#x27;refactor&#x27;, name: &#x27;️♻️重构:    代码重构，注意和特性、修复区分开&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{value: &#x27;perf&#x27;, name: &#x27;️️⚡️性能:    提升性能&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{value: &#x27;test&#x27;, name: &#x27;✅测试:    添加一个测试&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{value: &#x27;build&#x27;, name: &#x27;🔧工具:    开发工具变动(构建、脚手架工具等)&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{value: &#x27;rollback&#x27;, name: &#x27;⏪回滚:    代码回退&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{value: &#x27;addLog&#x27;, name: &#x27;👨🏻‍💻添加log:    代码回退&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-38-unknown-token="],-13-0">	],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	scopes: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{name: &#x27;leetcode&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{name: &#x27;javascript&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{name: &#x27;typescript&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{name: &#x27;Vue&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		{name: &#x27;node&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-38-unknown-token="],-20-0">	],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	// it needs to match the value for field type. Eg.: &#x27;fix&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	/*  scopeOverrides: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	fix: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  {name: &#x27;merge&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  {name: &#x27;style&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  {name: &#x27;e2eTest&#x27;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	  {name: &#x27;unitTest&#x27;}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-38-unknown-token="]-28-0">	]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  },  */</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	// override the messages, defaults are as follows</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	messages: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		type: &#x27;选择一种你的提交类型:&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		scope: &#x27;选择一个scope (可选):&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		// used if allowCustomScopes is true</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		customScope: &#x27;Denote the SCOPE of this change:&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		subject: &#x27;短说明:\n&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		body: &#x27;长说明，使用&quot;|&quot;换行(可选)：\n&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		breaking: &#x27;非兼容性说明 (可选):\n&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		footer: &#x27;关联关闭的issue，例如：#31, #34(可选):\n&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		confirmCommit: &#x27;确定提交说明?(yes/no)&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-38-unknown-token="},-41-0">	},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	allowCustomScopes: true,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	allowBreakingChanges: [&#x27;特性&#x27;, &#x27;修复&#x27;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	// limit subject length</span></div><div class="token-line" style="color:#393A34"><span class="token plain">	subjectLimit: 100,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-38-unknown-token="};-46-0">};</span></div></pre></div><p>package.json 中,将原来commit配置,变更为自定义配置</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">&quot;config&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">		&quot;commitizen&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">			&quot;path&quot;: &quot;node_modules/cz-customizable&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-39-unknown-token="}-3-0">		}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-39-unknown-token="}-4-0">	}</span></div></pre></div><p><img src="/front_end_engineer_book/static/image-20240615115235316.6b418135.png" alt="image-20240615115235316"/></p><h3 id="配置使用git-commit走自定义配置"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#配置使用git-commit走自定义配置"><span class="icon icon-link"></span></a>配置使用git commit走自定义配置</h3><p>更改husky的prepare-commit-msg钩子，如下</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain" data-40-unknown-token="#!/bin/bash-0-0">#!/bin/bash</span></div><div class="token-line" style="color:#393A34"><span class="token plain">exec &lt; /dev/tty &amp;&amp; node_modules/.bin/cz --hook || true</span></div></pre></div><p><img src="/front_end_engineer_book/static/image-20240615115242974.dcc03564.png" alt="image-20240615115242974"/></p><h2 id="typescript"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#typescript"><span class="icon icon-link"></span></a>typescript</h2><p>安装</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">yarn add typescript@5.4.2 -D</span></div></pre></div><p>初始化配置文件</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain">npx tsc --init</span></div></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9fdd6ef7217b4d92872d7f7ec11e620b~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=3024&amp;h=1890&amp;s=641826&amp;e=png&amp;b=1b1b1b" alt=""/></p><p>更改配置文件的内容如下，然后重启vscode，因为有时候抽风，vscode需要重新构建依赖树和缓存，所以重启之后这个报错就消失了</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain" data-43-unknown-token="{-0-0">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;compilerOptions&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // 基本配置</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;target&quot;: &quot;ES5&quot;, // 编译成哪个版本的 es</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;module&quot;: &quot;ESNext&quot;, // 指定生成哪个模块系统代码</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;lib&quot;: [&quot;dom&quot;, &quot;dom.iterable&quot;, &quot;esnext&quot;], // 编译过程中需要引入的库文件的列表</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;allowJs&quot;: true, // 允许编译 js 文件</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;jsx&quot;: &quot;react&quot;, // 在 .tsx 文件里支持 JSX</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;isolatedModules&quot;: true,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;strict&quot;: true, // 启用所有严格类型检查选项</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-43-unknown-token="-10-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // 模块解析选项</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;moduleResolution&quot;: &quot;node&quot;, // 指定模块解析策略</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;esModuleInterop&quot;: true, // 支持 CommonJS 和 ES 模块之间的互操作性</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;resolveJsonModule&quot;: true, // 支持导入 json 模块</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;baseUrl&quot;: &quot;./&quot;, // 根路径</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;paths&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      // 路径映射，与 baseUrl 关联，这个需要跟webpack一一对应，我们后面会讲解如何配置&amp;使用</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;@src/*&quot;: [&quot;src/*&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;@components/*&quot;: [&quot;src/components/*&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;@utils/*&quot;: [&quot;src/utils/*&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    },</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-43-unknown-token="-22-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // 实验性选项</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;experimentalDecorators&quot;: true, // 启用实验性的ES装饰器</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;emitDecoratorMetadata&quot;: true, // 给源码里的装饰器声明加上设计类型元数据</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-43-unknown-token="-26-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // 其他选项</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;forceConsistentCasingInFileNames&quot;: true, // 禁止对同一个文件的不一致的引用</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;skipLibCheck&quot;: true, // 忽略所有的声明文件（ *.d.ts）的类型检查</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;allowSyntheticDefaultImports&quot;: true, // 允许从没有设置默认导出的模块中默认导入</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;noEmit&quot;: true // 只想使用tsc的类型检查作为函数时（当其他工具（例如Babel实际编译）时）使用它</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;include&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;src/**/*&quot; // 这将包括 src 目录下的所有文件</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-43-unknown-token="}-36-0">}</span></div></pre></div><h3 id="介绍下tsconfig常见的配置"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#介绍下tsconfig常见的配置"><span class="icon icon-link"></span></a>介绍下tsconfig常见的配置</h3><p>以下是 TypeScript 中常见的一些配置选项：</p><p>在TypeScript 5中，tsconfig.json 文件仍然是用来配置TypeScript项目编译选项的主要方式。这个文件指定了编译器应遵守的规则和项目的编译上下文。以下是一些常见的配置选项和简短的描述：</p><p>compilerOptions: 该对象包含可以用来配置编译器行为的各种选项。</p><ul><li>target: 设置目标JavaScript语言版本。例如，&quot;ES5&quot;, &quot;ES6&quot;, &quot;ES2015&quot;, &quot;ES2020&quot;等。</li><li>module: 指定生成的代码模块化的方式，如 &quot;CommonJS&quot;, &quot;AMD&quot;, &quot;System&quot;, &quot;UMD&quot;, &quot;ES6&quot;, &quot;ES2015&quot;, &quot;ES2020&quot;等。</li><li>lib: 指定编译过程中需要包含的库文件的列表，如 [&quot;DOM&quot;, &quot;ES5&quot;, &quot;ScriptHost&quot;, &quot;WebWorker&quot;]。</li><li>allowJs: 允许编译器编译 JavaScript 文件。</li><li>checkJs: 允许在 .js 文件中报告错误。</li><li>jsx: 在.tsx文件中指定JSX代码的生成，常用值有 &quot;React&quot;, &quot;Preserve&quot;。</li><li>declaration: 生成相应的.d.ts声明文件。</li><li>sourceMap: 生成相应的.map文件，用于调试。</li><li>outFile: 将所有全局作用域的文件合并到一个输出文件中。</li><li>outDir: 指定输出文件夹。</li><li>strict: 启用所有严格类型检查选项。</li><li>noImplicitAny: 禁止隐含的any类型。</li><li>moduleResolution: 模块解析策略，&quot;Node&quot; 或 &quot;Classic&quot;。</li><li>baseUrl: 用于解析非相对模块名称的基目录。</li><li>paths: 一个映射列表，与 baseUrl 一起工作以进行模块重定向。</li><li>esModuleInterop: 改善了对非ES模块的默认导出的兼容。</li><li>resolveJsonModule: 允许导入.json文件。</li><li>noEmit: 不生成输出文件。</li><li>noEmitOnError: 发生错误时不生成输出文件。</li><li>skipLibCheck: 跳过对.d.ts文件的类型检查；对于包含大量声明文件的大型项目，这可以减少编译时间。</li><li>forceConsistentCasingInFileNames: 确保文件名的大小写一致，以避免在大小写不敏感的文件系统中产生问题。</li><li>strictNullChecks: 当设置为true时，在所有可能为null或undefined的地方显式检查。</li><li>strictFunctionTypes: 更严格地检查函数类型的赋值。</li><li>strictBindCallApply: 对bind，call和apply方法使用更严格的类型。</li><li>strictPropertyInitialization: 确保类的每个实例属性都显式初始化。</li><li>noImplicitThis: 当this表达式的值为any类型的时候，生成一个错误。</li><li>alwaysStrict: 在代码中每个文件都应用JavaScript的严格模式。</li><li>noUnusedLocals: 报告未使用的局部变量。</li><li>noUnusedParameters: 报告未使用的函数参数。</li><li>noImplicitReturns: 在函数中，如果不是所有路径都有返回值，将报告错误。</li><li>noFallthroughCasesInSwitch: 防止switch语句贯穿（未通过break中断）。</li><li>inlineSourceMap: 生成内联的.map源映射文件，而不是单独的文件。</li><li>inlineSources: 将代码与sourcemap生成在同一文件中，仅当你设置了inlineSourceMap或sourceMap选项时才有效。</li><li>emitDecoratorMetadata: 当使用装饰器时，会为相关的设计类型添加元数据信息。</li><li>experimentalDecorators: 启用实验性的装饰器支持。</li><li>removeComments: 从输出文件中移除注释。</li><li>isolatedModules: 确保每个文件可以安全地独立编译。</li><li>downlevelIteration: 当目标为低于ES6环境时，提供对迭代器的全面支持。</li><li>preserveConstEnums: 即使使用了const enum， 枚举也会被保留在生成的代码中。</li><li>suppressImplicitAnyIndexErrors: 当索引对象时忽略noImplicitAny的错误。 include: 这个属性定义了编译器应该包含在编译过程中的文件或文件夹。 exclude: 这个属性定义了编译器应该排除在编译过程之外的文件或文件夹。 extends: 允许配置继承自另一个配置文件。 files: 如果你想显式设置一组文件（而不是整个目录），可以使用此属性。 references: 用于配置项目间的依赖。</li></ul><h2 id="-写在最后"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#-写在最后"><span class="icon icon-link"></span></a>🍋 写在最后</h2><p>如果您看到这里了，并且觉得这篇文章对您有所帮助，希望您能够点赞👍和收藏⭐支持一下作者🙇🙇🙇，感谢🍺🍺！如果文中有任何不准确之处，也欢迎您指正，共同进步。感谢您的阅读，期待您的点赞👍和收藏⭐！</p><h2 id="参考文章"><a aria-hidden="true" tabindex="-1" href="/front_end_engineer_book//01docs/00actual_combat/03code_quarity#参考文章"><span class="icon icon-link"></span></a>参考文章</h2><ul><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/6844904025868271629?searchId=20240404230547BCC4A2A240F03741F8E6#heading-1">commitizen + husky 规范git提交信息<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/vortesnail/blog/issues/14">我是这样搭建Typescript+React项目环境的！<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 本文主要流程参考这篇文章，将文章中的包换成了相对较新的，解决了配置过程中存在的问题，增加了一些没有的配置</li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7038143752036155428?searchId=20240404224332BDEE7231DFF8823CE5F7#heading-5">Eslint + Prettier + Husky + Commitlint+ Lint-staged 规范前端工程代码规范<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><span data-updated-text="Last update: ">6/15/2024 07:19:04</span></div></article></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/front_end_engineer_book/umi.9ab99bfd.js"></script>
  </body>
</html>
